<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>INDIGIS ‚Äî Vishnu Signature UI (Prototype)</title>
  <link rel="stylesheet" href="styles.css" />

  <!-- LOGIN PROTECTION -->
  <script>
    if (localStorage.getItem("indigis_logged_in") !== "true") {
      window.location.href = "login.html";
    }
  </script>
</head>

<body>
  <div id="app" class="theme-auto">

    <!-- TOP HUD -->
    <header class="top-hud" role="banner">
      <div class="hud-left">
        <div class="logo">INDIGIS <span class="brand">Prototype</span></div>
        <div class="hud-search">
          <input aria-label="Global search" placeholder="Search tools, layers..." />
        </div>
      </div>

      <div class="hud-center">
        <nav class="hud-actions" aria-label="Main actions">
          <button class="hud-btn" data-tool="digitizer" title="Digitizer">‚úèÔ∏è</button>
          <button class="hud-btn" data-tool="image" title="Image">üñºÔ∏è</button>
          <button class="hud-btn" data-tool="analytics" title="Analytics">üìä</button>
          <button class="hud-btn" data-tool="uav" title="UAV">‚úàÔ∏è</button>
          <button class="hud-btn" data-tool="terrain" title="Terrain">‚õ∞Ô∏è</button>
        </nav>
      </div>

      <div class="hud-right">
        <div class="mode-chip" role="tablist" aria-label="Mode">
          <button class="mode-btn" data-mode="basic">Basic</button>
          <button class="mode-btn" data-mode="intermediate">Intermediate</button>
          <button class="mode-btn active" data-mode="advanced">Advanced</button>
        </div>

        <div class="hud-controls">
          <button id="themeToggle" class="icon-btn" aria-pressed="false" title="Toggle theme">üåì</button>

          <!-- LOGOUT BUTTON (correct position) -->
          <button id="logoutBtn" class="icon-btn" title="Logout">üö™</button>
        </div>
      </div>
    </header>

    <!-- MAIN LAYOUT -->
    <div class="main-area">

      <!-- LEFT DOCK -->
      <aside class="left-panel" aria-label="Left tools">
        <section class="panel">
          <div class="panel-header">Layers</div>
          <div class="panel-body">
            <ul class="layer-list">
              <li><span class="chip vector">Base Map</span></li>
              <li><span class="chip vector">Points</span></li>
              <li><span class="chip raster">Raster</span></li>
            </ul>
          </div>
        </section>

        <section class="panel">
          <div class="panel-header">Tools</div>
          <div class="panel-body">
            <ul class="tool-list">
              <li><button class="tool-btn vector">Measure</button></li>
              <li><button class="tool-btn terrain">Viewshed</button></li>
              <li><button class="tool-btn defense">Dome Tool</button></li>
            </ul>
          </div>
        </section>
      </aside>

      <!-- MAP SECTION -->
      <main class="map-area" id="map" aria-label="Map view">
        <div class="map-toolbar">
          <div class="map-toolbar-left">Map View</div>
          <div class="map-toolbar-right">
            <button class="small">Fullscreen</button>
            <button class="small">Fit Map</button>
          </div>
        </div>

        <div class="map-canvas">
          <div class="map-placeholder">Map canvas (plug in OpenLayers / Cesium here)</div>
        </div>
      </main>

      <!-- RIGHT PANEL -->
      <aside class="right-panel">
        <section class="panel">
          <div class="panel-header">Inspector</div>
          <div class="panel-body">
            <p>No selection</p>
          </div>
        </section>
      </aside>
    </div>

    <!-- STATUS BAR -->
    <footer class="status-ribbon" role="contentinfo">
      <div class="status-left">
        <span id="coords">Lat: ‚Äî , Lon: ‚Äî</span>
        <span> | </span>
        <span id="proj">Proj: WebMercator (WGS84)</span>
      </div>

      <div class="status-right">
        <span>Scale 1: <strong id="scale">‚Äî</strong></span>
        <button class="small">Undo</button>
        <button class="small">Redo</button>
      </div>
    </footer>

  </div>

  <!-- LOGOUT SCRIPT -->
  <script>
    document.getElementById("logoutBtn").onclick = () => {
      localStorage.removeItem("indigis_logged_in");
      window.location.href = "login.html";
    };
  </script>

  <script src="app.js"></script>

</body>
</html>
