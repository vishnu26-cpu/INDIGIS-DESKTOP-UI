<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>INDIGIS ‚Äì Basic Mode</title>

  <link rel="stylesheet" href="./basic.css">

  <!-- OpenLayers (2D) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ol@latest/ol.css">
  <script src="https://cdn.jsdelivr.net/npm/ol@latest/ol.js"></script>

  <!-- Cesium (3D) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cesium/Build/Cesium/Widgets/widgets.css">
  <script src="https://cdn.jsdelivr.net/npm/cesium/Build/Cesium/Cesium.js"></script>
</head>

<body class="theme-dark">

<!-- ================= TOP BAR ================= -->
<header class="topbar">
  <div class="topbar-left">
    <img src="../assets/logo.png" class="logo" />
    <span class="brand">INDIGIS</span>

    <div class="dropdown">
      <button class="btn">Workspace ‚ñæ</button>
      <div class="menu">
        <button>Save Workspace</button>
        <button>Save As</button>
        <button>Recent Workspaces</button>
        <hr />
        <button class="danger">Close Workspace</button>
      </div>
    </div>

    <div class="dropdown">
      <button class="btn">User Mode ‚ñæ</button>
      <div class="menu">
        <button disabled>Basic ‚úì</button>
        <button onclick="switchMode('intermediate')">Intermediate</button>
        <button onclick="switchMode('advanced')">Advanced</button>
      </div>
    </div>
  </div>

  <div class="topbar-right">
    <button id="openRightPanelBtn" class="icon-btn" title="Open Inspector / AI">üß†</button>
    <button id="themeToggle" class="icon-btn">üåô</button>

    <div class="toggle">
      <button class="active">2D</button>
      <button>3D</button>
    </div>

    <div class="dropdown">
      <button class="icon-btn">‚öô</button>
      <div class="menu right">
        <button>Account</button>
        <button>Preferences</button>
        <button>Help</button>
        <hr />
        <button class="danger" id="logoutBtn">Logout</button>
      </div>
    </div>
  </div>
</header>

<!-- ================= MAIN LAYOUT ================= -->
<div id="indigis-basic-app">

  <!-- LEFT PANEL (UNCHANGED) -->
  <aside class="left-panel">
    <div class="lp-header">BASIC TOOLS</div>

    <div class="lp-section">
      <button class="lp-section-title">Navigation</button>
      <div class="lp-tools">
        <button class="lp-tool">Pan</button>
        <button class="lp-tool">Zoom In</button>
        <button class="lp-tool">Zoom Out</button>
        <button class="lp-tool">Full Extent</button>
      </div>
    </div>

    <div class="lp-section">
      <button class="lp-section-title">Basic Tools</button>
      <div class="lp-tools">
        <button class="lp-tool">Identify</button>
        <button class="lp-tool">Measure Distance</button>
        <button class="lp-tool">Measure Area</button>
        <button class="lp-tool">Add Marker</button>
      </div>
    </div>

    <div class="lp-section">
      <button class="lp-section-title">Analysis</button>
      <div class="lp-tools">
        <button class="lp-tool">Buffer</button>
        <button class="lp-tool">Select by Area</button>
      </div>
    </div>

    <div class="lp-section">
      <button class="lp-section-title">View</button>
      <div class="lp-tools">
        <button class="lp-tool">Grid</button>
        <button class="lp-tool">North Arrow</button>
      </div>
    </div>
  </aside>

  <!-- ========== MAP AREA (FIXED) ========== -->
  <main class="main">

    <div id="map2d" class="map-container"></div>
    <div id="map3d" class="map-container hidden"></div>

    <!-- STATUS BAR -->
    <div class="map-status-bar">
      <span id="coordReadout">Lat: -- , Lon: --</span>
      <span id="zoomReadout">Zoom: --</span>
      <span id="modeReadout">Mode: 2D</span>
    </div>

    <!-- NORTH ARROW -->
    <div class="north-arrow">N</div>

  </main>

  <!-- RIGHT PANEL (UNCHANGED STRUCTURE) -->
  <aside class="right-panel hidden" id="rightPanel">
    <div class="rp-header">
      <span>PROPERTIES</span>
      <button class="rp-close" id="rpCloseBtn">‚ü®</button>
    </div>

    <div class="rp-tabs">
      <button class="rp-tab active" data-tab="layers">Layers</button>
      <button class="rp-tab" data-tab="info">Info</button>
      <button class="rp-tab" data-tab="inspector">Inspector</button>
      <button class="rp-tab" data-tab="ai">AI</button>
      <button class="rp-tab" data-tab="settings">Settings</button>
    </div>

    <div class="rp-content">

      <div class="rp-view active" id="rp-layers">
        <div class="layer-item"><input type="checkbox" checked> Base Map</div>
        <div class="layer-item"><input type="checkbox" checked> Roads</div>
        <div class="layer-item"><input type="checkbox"> Buildings</div>
      </div>

      <div class="rp-view" id="rp-info">
        <p class="rp-muted">Click on map to view feature information.</p>
      </div>

      <div class="rp-view" id="rp-inspector">
        <div class="log error">‚ùå CRS not defined</div>
        <div class="log warn">‚ö†Ô∏è Layer mismatch detected</div>
        <div class="log info">‚ÑπÔ∏è Workspace loaded</div>
      </div>

      <div class="rp-view" id="rp-ai">
        <div class="ai-box">
          <div class="ai-msg">Hi üëã I‚Äôm INDIGIS AI.</div>
          <div class="ai-input">
            <input type="text" placeholder="Ask about tools, errors, workflow‚Ä¶" />
            <button>Send</button>
          </div>
        </div>
      </div>

      <div class="rp-view" id="rp-settings">
        <label class="rp-setting"><input type="checkbox"> Show grid</label>
        <label class="rp-setting"><input type="checkbox"> Enable snapping</label>
      </div>

    </div>
  </aside>

</div>

<script src="./basic.js"></script>
</body>
</html>
